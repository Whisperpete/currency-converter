<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Converter | Real-Time Exchange Rates</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
            width: 100%;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            font-weight: 300;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .converter-card {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
        }
        
        .info-card {
            flex: 1;
            min-width: 300px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        .card-title {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f1f1f1;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title i {
            color: #6a11cb;
        }
        
        .converter-form {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        label {
            font-weight: 600;
            color: #444;
            font-size: 1.1rem;
        }
        
        input, select {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        input:focus, select:focus {
            border-color: #6a11cb;
            outline: none;
            box-shadow: 0 0 0 3px rgba(106, 17, 203, 0.1);
        }
        
        .currency-row {
            display: flex;
            gap: 15px;
        }
        
        .currency-row > div {
            flex: 1;
        }
        
        .swap-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
        }
        
        .swap-icon button {
            background-color: #f1f1f1;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .swap-icon button:hover {
            background-color: #6a11cb;
            color: white;
            transform: rotate(180deg);
        }
        
        .convert-btn {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        
        .convert-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.2);
        }
        
        .convert-btn:active {
            transform: translateY(0);
        }
        
        .result {
            margin-top: 25px;
            padding: 25px;
            background-color: #f8f9fa;
            border-radius: 15px;
            text-align: center;
            border-left: 5px solid #6a11cb;
            display: none;
        }
        
        .result h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .converted-amount {
            font-size: 2.8rem;
            font-weight: 700;
            color: #2575fc;
            margin: 15px 0;
        }
        
        .exchange-rate {
            color: #666;
            font-size: 1.1rem;
            margin-top: 10px;
        }
        
        .error-message {
            margin-top: 20px;
            padding: 15px;
            background-color: #ffeaea;
            color: #d32f2f;
            border-radius: 10px;
            border-left: 5px solid #d32f2f;
            display: none;
        }
        
        .info-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .info-section {
            margin-bottom: 15px;
        }
        
        .info-section h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-section p {
            line-height: 1.6;
            color: #555;
            font-size: 1.05rem;
        }
        
        .api-info {
            margin-top: 20px;
            font-size: 0.9rem;
            color: #777;
            text-align: center;
            padding: 15px;
            background-color: #f1f1f1;
            border-radius: 10px;
        }
        
        footer {
            color: white;
            text-align: center;
            padding: 20px;
            width: 100%;
            margin-top: auto;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .loader {
            display: none;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #6a11cb;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .currency-row {
                flex-direction: column;
            }
            
            .swap-icon {
                margin: 5px 0;
            }
            
            .swap-icon button {
                transform: rotate(90deg);
            }
            
            .swap-icon button:hover {
                transform: rotate(270deg);
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
        
        .last-updated {
            font-size: 0.9rem;
            color: #777;
            text-align: center;
            margin-top: 10px;
        }
        
        .disclaimer {
            font-size: 0.8rem;
            color: #888;
            margin-top: 10px;
            text-align: center;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-money-bill-wave"></i> Currency Converter</h1>
            <p class="tagline">Convert currencies with real-time exchange rates</p>
        </header>
        
        <div class="main-content">
            <div class="converter-card">
                <h2 class="card-title"><i class="fas fa-calculator"></i> Currency Converter</h2>
                
                <form class="converter-form" id="converterForm">
                    <div class="input-group">
                        <label for="amount">Amount</label>
                        <input type="number" id="amount" placeholder="Enter amount" min="0" step="0.01" required value="100">
                    </div>
                    
                    <div class="currency-row">
                        <div class="input-group">
                            <label for="fromCurrency">From Currency</label>
                            <select id="fromCurrency" required>
                                <!-- Currencies will be populated by JavaScript -->
                            </select>
                        </div>
                        
                        <div class="swap-icon">
                            <button type="button" id="swapCurrencies" title="Swap currencies">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                        
                        <div class="input-group">
                            <label for="toCurrency">To Currency</label>
                            <select id="toCurrency" required>
                                <!-- Currencies will be populated by JavaScript -->
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="convert-btn">
                        <i class="fas fa-sync-alt"></i> Convert Currency
                    </button>
                </form>
                
                <div class="loader" id="loader"></div>
                
                <div class="result" id="result">
                    <h3>Conversion Result</h3>
                    <div id="originalAmount" class="original-amount"></div>
                    <div id="convertedAmount" class="converted-amount"></div>
                    <div id="exchangeRate" class="exchange-rate"></div>
                    <div class="last-updated" id="lastUpdated"></div>
                    <div class="disclaimer">Using free API with limited requests per day</div>
                </div>
                
                <div class="error-message" id="errorMessage">
                    <i class="fas fa-exclamation-triangle"></i> <span id="errorText">An error occurred during conversion. Please try again.</span>
                </div>
            </div>
            
            <div class="info-card">
                <h2 class="card-title"><i class="fas fa-info-circle"></i> About Currency Conversion</h2>
                
                <div class="info-content">
                    <div class="info-section">
                        <h4><i class="fas fa-question-circle"></i> What is a Currency Converter?</h4>
                        <p>A currency converter is a tool that calculates the equivalent value of one currency in another currency. It uses real-time exchange rates to determine how much of one currency you can get for a specific amount of another currency. This is essential for international trade, travel, and finance.</p>
                    </div>
                    
                    <div class="info-section">
                        <h4><i class="fas fa-chart-line"></i> How Exchange Rates Work</h4>
                        <p>Exchange rates represent the value of one currency relative to another. They fluctuate constantly due to market forces, economic indicators, geopolitical events, and central bank policies. Exchange rates can be fixed (pegged to another currency) or floating (determined by the foreign exchange market).</p>
                    </div>
                    
                    <div class="info-section">
                        <h4><i class="fas fa-hands-helping"></i> How This Tool Helps</h4>
                        <p>This currency converter helps you quickly calculate currency values for travel planning, international shopping, business transactions, or financial analysis. It provides real-time rates, handles various currencies, and offers an intuitive interface for seamless conversions.</p>
                    </div>
                    
                    <div class="info-section">
                        <h4><i class="fas fa-lightbulb"></i> Tips for Currency Conversion</h4>
                        <p>1. Check rates before traveling or making large transactions<br>
                        2. Be aware of conversion fees that banks or services may charge<br>
                        3. Consider timing - exchange rates fluctuate throughout the day<br>
                        4. Use mid-market rates as a benchmark for fair conversion</p>
                    </div>
                </div>
                
                <div class="api-info">
                    <p><i class="fas fa-database"></i> This tool uses free public APIs for exchange rates. For production use, consider obtaining your own API key from a currency exchange service.</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Currency Converter &copy; <span id="currentYear"></span> | Made for easy currency conversion</p>
            <p>This tool is for informational purposes only. Rates may vary in actual transactions.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current year in footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // DOM Elements
            const converterForm = document.getElementById('converterForm');
            const amountInput = document.getElementById('amount');
            const fromCurrencySelect = document.getElementById('fromCurrency');
            const toCurrencySelect = document.getElementById('toCurrency');
            const swapButton = document.getElementById('swapCurrencies');
            const resultDiv = document.getElementById('result');
            const errorMessageDiv = document.getElementById('errorMessage');
            const loader = document.getElementById('loader');
            const convertedAmount = document.getElementById('convertedAmount');
            const originalAmount = document.getElementById('originalAmount');
            const exchangeRate = document.getElementById('exchangeRate');
            const lastUpdated = document.getElementById('lastUpdated');
            const errorText = document.getElementById('errorText');
            
            // Available currencies with names
            const currencies = [
                {code: 'USD', name: 'US Dollar', flag: 'ðŸ‡ºðŸ‡¸'},
                {code: 'EUR', name: 'Euro', flag: 'ðŸ‡ªðŸ‡º'},
                {code: 'GBP', name: 'British Pound', flag: 'ðŸ‡¬ðŸ‡§'},
                {code: 'JPY', name: 'Japanese Yen', flag: 'ðŸ‡¯ðŸ‡µ'},
                {code: 'CAD', name: 'Canadian Dollar', flag: 'ðŸ‡¨ðŸ‡¦'},
                {code: 'AUD', name: 'Australian Dollar', flag: 'ðŸ‡¦ðŸ‡º'},
                {code: 'CHF', name: 'Swiss Franc', flag: 'ðŸ‡¨ðŸ‡­'},
                {code: 'CNY', name: 'Chinese Yuan', flag: 'ðŸ‡¨ðŸ‡³'},
                {code: 'INR', name: 'Indian Rupee', flag: 'ðŸ‡®ðŸ‡³'},
                {code: 'MXN', name: 'Mexican Peso', flag: 'ðŸ‡²ðŸ‡½'},
                {code: 'BRL', name: 'Brazilian Real', flag: 'ðŸ‡§ðŸ‡·'},
                {code: 'KRW', name: 'South Korean Won', flag: 'ðŸ‡°ðŸ‡·'},
                {code: 'RUB', name: 'Russian Ruble', flag: 'ðŸ‡·ðŸ‡º'},
                {code: 'ZAR', name: 'South African Rand', flag: 'ðŸ‡¿ðŸ‡¦'},
                {code: 'AED', name: 'UAE Dirham', flag: 'ðŸ‡¦ðŸ‡ª'},
                {code: 'SGD', name: 'Singapore Dollar', flag: 'ðŸ‡¸ðŸ‡¬'},
                {code: 'NZD', name: 'New Zealand Dollar', flag: 'ðŸ‡³ðŸ‡¿'},
                {code: 'TRY', name: 'Turkish Lira', flag: 'ðŸ‡¹ðŸ‡·'},
                {code: 'HKD', name: 'Hong Kong Dollar', flag: 'ðŸ‡­ðŸ‡°'},
                {code: 'SEK', name: 'Swedish Krona', flag: 'ðŸ‡¸ðŸ‡ª'}
            ];
            
            // Populate currency dropdowns
            function populateCurrencyDropdowns() {
                fromCurrencySelect.innerHTML = '';
                toCurrencySelect.innerHTML = '';
                
                currencies.forEach(currency => {
                    const option1 = document.createElement('option');
                    option1.value = currency.code;
                    option1.textContent = `${currency.flag} ${currency.code} - ${currency.name}`;
                    
                    const option2 = document.createElement('option');
                    option2.value = currency.code;
                    option2.textContent = `${currency.flag} ${currency.code} - ${currency.name}`;
                    
                    fromCurrencySelect.appendChild(option1);
                    toCurrencySelect.appendChild(option2);
                });
                
                // Set default values
                fromCurrencySelect.value = 'USD';
                toCurrencySelect.value = 'EUR';
            }
            
            // Initialize dropdowns
            populateCurrencyDropdowns();
            
            // Swap currencies when swap button is clicked
            swapButton.addEventListener('click', function() {
                const fromValue = fromCurrencySelect.value;
                const toValue = toCurrencySelect.value;
                
                fromCurrencySelect.value = toValue;
                toCurrencySelect.value = fromValue;
                
                // If there's a result showing, update it with swapped values
                if (resultDiv.style.display === 'block') {
                    const currentAmount = amountInput.value;
                    if (currentAmount && !isNaN(currentAmount)) {
                        convertCurrency();
                    }
                }
            });
            
            // Handle form submission
            converterForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate amount
                const amount = parseFloat(amountInput.value);
                if (!amount || isNaN(amount) || amount <= 0) {
                    showError("Please enter a valid amount greater than 0");
                    return;
                }
                
                convertCurrency();
            });
            
            // Main conversion function
            async function convertCurrency() {
                // Get form values
                const amount = parseFloat(amountInput.value);
                const fromCurrency = fromCurrencySelect.value;
                const toCurrency = toCurrencySelect.value;
                
                // Reset previous results/errors
                hideResult();
                hideError();
                
                // Show loader
                loader.style.display = 'block';
                
                try {
                    // Try multiple free APIs - start with Frankfurter API (no API key needed, CORS friendly)
                    let rate;
                    let apiUsed = "Frankfurter.app";
                    
                    try {
                        // Try Frankfurter API first
                        const response = await fetch(`https://api.frankfurter.app/latest?from=${fromCurrency}&to=${toCurrency}`);
                        
                        if (!response.ok) {
                            throw new Error(`Frankfurter API error: ${response.status}`);
                        }
                        
                        const data = await response.json();
                        rate = data.rates[toCurrency];
                        
                        // Update last updated time
                        const updateDate = new Date();
                        lastUpdated.textContent = `Rates updated: ${updateDate.toLocaleDateString()} ${updateDate.toLocaleTimeString()} (via ${apiUsed})`;
                    } catch (frankfurterError) {
                        console.log("Frankfurter API failed, trying alternative...");
                        
                        // Try ExchangeRate-API (free tier with CORS proxy)
                        apiUsed = "ExchangeRate-API (via proxy)";
                        const proxyUrl = 'https://api.allorigins.win/raw?url=';
                        const exchangeRateUrl = `https://v6.exchangerate-api.com/v6/c6b60c2db03ef95ac2a78652/latest/${fromCurrency}`;
                        
                        const proxyResponse = await fetch(proxyUrl + encodeURIComponent(exchangeRateUrl));
                        
                        if (!proxyResponse.ok) {
                            throw new Error(`ExchangeRate API error: ${proxyResponse.status}`);
                        }
                        
                        const proxyData = await proxyResponse.json();
                        
                        if (proxyData.result !== 'success') {
                            throw new Error(`ExchangeRate API: ${proxyData['error-type']}`);
                        }
                        
                        rate = proxyData.conversion_rates[toCurrency];
                        
                        // Update last updated time
                        const updateDate = new Date(proxyData.time_last_update_utc);
                        lastUpdated.textContent = `Rates updated: ${updateDate.toLocaleDateString()} ${updateDate.toLocaleTimeString()} (via ${apiUsed})`;
                    }
                    
                    if (!rate) {
                        throw new Error(`Conversion rate for ${toCurrency} not available`);
                    }
                    
                    // Calculate converted amount
                    const convertedValue = amount * rate;
                    
                    // Format numbers for display
                    const formatterFrom = new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: fromCurrency,
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    });
                    
                    const formatterTo = new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: toCurrency,
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    });
                    
                    // Display results
                    originalAmount.textContent = `${formatterFrom.format(amount)} equals`;
                    convertedAmount.textContent = formatterTo.format(convertedValue);
                    exchangeRate.textContent = `1 ${fromCurrency} = ${rate.toFixed(6)} ${toCurrency}`;
                    
                    // Show result and hide loader
                    loader.style.display = 'none';
                    resultDiv.style.display = 'block';
                    
                } catch (error) {
                    console.error('Conversion error:', error);
                    loader.style.display = 'none';
                    
                    // If all APIs fail, use fallback rates (stored rates for demonstration)
                    if (error.message.includes('Failed to fetch') || error.message.includes('Network')) {
                        // Use fallback rates when API is unavailable
                        useFallbackRates(amount, fromCurrency, toCurrency);
                    } else {
                        showError(error.message || "Conversion failed. Please try again.");
                    }
                }
            }
            
            // Fallback rates for when APIs are unavailable
            function useFallbackRates(amount, fromCurrency, toCurrency) {
                // Sample exchange rates (as of common values, not real-time)
                const fallbackRates = {
                    'USD': { 'EUR': 0.92, 'GBP': 0.79, 'JPY': 147.50, 'CAD': 1.36, 'AUD': 1.54, 'CHF': 0.88, 'CNY': 7.28, 'INR': 83.20 },
                    'EUR': { 'USD': 1.09, 'GBP': 0.86, 'JPY': 160.50, 'CAD': 1.48, 'AUD': 1.67, 'CHF': 0.96, 'CNY': 7.92, 'INR': 90.50 },
                    'GBP': { 'USD': 1.27, 'EUR': 1.16, 'JPY': 186.50, 'CAD': 1.72, 'AUD': 1.95, 'CHF': 1.11, 'CNY': 9.20, 'INR': 105.20 },
                    'JPY': { 'USD': 0.0068, 'EUR': 0.0062, 'GBP': 0.0054, 'CAD': 0.0092, 'AUD': 0.0104, 'CHF': 0.0060, 'CNY': 0.049, 'INR': 0.56 }
                };
                
                // Default rate if not in our fallback data
                let rate = 1.0;
                
                // Try to get rate from fallback data
                if (fallbackRates[fromCurrency] && fallbackRates[fromCurrency][toCurrency]) {
                    rate = fallbackRates[fromCurrency][toCurrency];
                } else if (fromCurrency === toCurrency) {
                    rate = 1.0;
                } else {
                    // For other currencies, show an approximate conversion
                    rate = 0.85; // Default approximation
                    showError("Using approximate rates. Real-time rates unavailable.");
                }
                
                // Calculate converted amount
                const convertedValue = amount * rate;
                
                // Format numbers for display
                const formatterFrom = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: fromCurrency
                });
                
                const formatterTo = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: toCurrency,
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
                
                // Display results
                originalAmount.textContent = `${formatterFrom.format(amount)} equals`;
                convertedAmount.textContent = formatterTo.format(convertedValue);
                exchangeRate.textContent = `1 ${fromCurrency} â‰ˆ ${rate.toFixed(6)} ${toCurrency}`;
                lastUpdated.textContent = `Using approximate rates (real-time rates unavailable)`;
                
                // Show result and hide loader
                loader.style.display = 'none';
                resultDiv.style.display = 'block';
            }
            
            // Helper functions
            function showError(message) {
                errorText.textContent = message;
                errorMessageDiv.style.display = 'block';
            }
            
            function hideError() {
                errorMessageDiv.style.display = 'none';
            }
            
            function hideResult() {
                resultDiv.style.display = 'none';
            }
            
            // Example conversion on page load
            setTimeout(() => {
                convertCurrency();
            }, 500);
        });
    </script>
</body>
</html>
